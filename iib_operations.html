<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>IIB operations &mdash; pubtools-quay 0.11.1 documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/sphinx_highlight.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Image untagger" href="image_untagger.html" />
    <link rel="prev" title="Container image pusher" href="container_image_pusher.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            pubtools-quay
          </a>
              <div class="version">
                0.11.1
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="README.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="entrypoints_reference.html">Entrypoints reference</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="modules_reference.html">Modules reference</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="command_executor.html">Command Executor</a></li>
<li class="toctree-l2"><a class="reference internal" href="container_image_pusher.html">Container image pusher</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">IIB operations</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#main-entrypoint-functions">Main entrypoint functions</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#pubtools._quay.iib_operations.task_iib_add_bundles"><code class="docutils literal notranslate"><span class="pre">task_iib_add_bundles()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#pubtools._quay.iib_operations.task_iib_remove_operators"><code class="docutils literal notranslate"><span class="pre">task_iib_remove_operators()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#pubtools._quay.iib_operations.task_iib_build_from_scratch"><code class="docutils literal notranslate"><span class="pre">task_iib_build_from_scratch()</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="#pubtools._quay.iib_operations.verify_target_settings"><code class="docutils literal notranslate"><span class="pre">verify_target_settings()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="image_untagger.html">Image untagger</a></li>
<li class="toctree-l2"><a class="reference internal" href="manifest_list_merger.html">Manifest list merger</a></li>
<li class="toctree-l2"><a class="reference internal" href="operator_pusher.html">Operator Pusher</a></li>
<li class="toctree-l2"><a class="reference internal" href="push_docker.html">Push Docker</a></li>
<li class="toctree-l2"><a class="reference internal" href="quay_api_client.html">Quay API Client</a></li>
<li class="toctree-l2"><a class="reference internal" href="quay_client.html">Quay Client</a></li>
<li class="toctree-l2"><a class="reference internal" href="quay_session.html">Quay Session</a></li>
<li class="toctree-l2"><a class="reference internal" href="signature_handler.html">Signature Handler</a></li>
<li class="toctree-l2"><a class="reference internal" href="signature_remover.html">Signature Remover</a></li>
<li class="toctree-l2"><a class="reference internal" href="tag_docker.html">Tag Docker</a></li>
<li class="toctree-l2"><a class="reference internal" href="utilities.html">Utilities</a></li>
<li class="toctree-l2"><a class="reference internal" href="exceptions.html">Exceptions</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="CHANGELOG.html">ChangeLog</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">pubtools-quay</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="modules_reference.html">Modules reference</a></li>
      <li class="breadcrumb-item active">IIB operations</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/iib_operations.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <div class="section" id="module-pubtools._quay.iib_operations">
<span id="iib-operations"></span><h1>IIB operations<a class="headerlink" href="#module-pubtools._quay.iib_operations" title="Permalink to this heading"></a></h1>
<p>These functions handle logic related to the common IIB operations. This includes contacting IIB, creating new signatures, removing old signatues, and and copying the new index image to the right location</p>
<div class="section" id="main-entrypoint-functions">
<h2>Main entrypoint functions<a class="headerlink" href="#main-entrypoint-functions" title="Permalink to this heading"></a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="pubtools._quay.iib_operations.task_iib_add_bundles">
<span class="sig-prename descclassname"><span class="pre">pubtools._quay.iib_operations.</span></span><span class="sig-name descname"><span class="pre">task_iib_add_bundles</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">bundles</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">archs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">index_image</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">deprecation_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">signing_keys</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hub</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">task_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">target_settings</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">target_name</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pubtools/_quay/iib_operations.html#task_iib_add_bundles"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pubtools._quay.iib_operations.task_iib_add_bundles" title="Permalink to this definition"></a></dt>
<dd><p>Perform all the necessary actions for the ‘PushAddIIBBundles’ entrypoint.</p>
<dl class="simple">
<dt>Args:</dt><dd><dl class="simple">
<dt>bundles ([str]):</dt><dd><p>Bundles to add to the index image.</p>
</dd>
<dt>archs ([str]):</dt><dd><p>Architectures to build the index image for.</p>
</dd>
<dt>index_image (str):</dt><dd><p>Index image to add the bundles to.</p>
</dd>
<dt>deprecation_list ([str]):</dt><dd><p>Bundles to deprecate in the index image.</p>
</dd>
<dt>signing_keys ([str]):</dt><dd><p>Signing keys to be used.</p>
</dd>
<dt>hub (HubProxy):</dt><dd><p>Instance of XMLRPC pub-hub proxy.</p>
</dd>
<dt>task_id (str):</dt><dd><p>ID of the pub task.</p>
</dd>
<dt>target_settings (dict):</dt><dd><p>Dictionary containing settings necessary for performing the operation.</p>
</dd>
<dt>target_name (str):</dt><dd><p>Name of the target.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pubtools._quay.iib_operations.task_iib_remove_operators">
<span class="sig-prename descclassname"><span class="pre">pubtools._quay.iib_operations.</span></span><span class="sig-name descname"><span class="pre">task_iib_remove_operators</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">operators</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">archs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">index_image</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">signing_keys</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hub</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">task_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">target_settings</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">target_name</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pubtools/_quay/iib_operations.html#task_iib_remove_operators"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pubtools._quay.iib_operations.task_iib_remove_operators" title="Permalink to this definition"></a></dt>
<dd><p>Perform all the necessary actions for the ‘PushRemoveIIBOperators’ entrypoint.</p>
<dl class="simple">
<dt>Args:</dt><dd><dl class="simple">
<dt>operators ([str]):</dt><dd><p>Operators to remove from the index image.</p>
</dd>
<dt>arch ([str]):</dt><dd><p>Architectures to build the index image for.</p>
</dd>
<dt>index_image (str):</dt><dd><p>Index image to remove the operators from.</p>
</dd>
<dt>signing_keys (str):</dt><dd><p>Signing keys to be used.</p>
</dd>
<dt>hub (HubProxy):</dt><dd><p>Instance of XMLRPC pub-hub proxy.</p>
</dd>
<dt>task_id (str):</dt><dd><p>ID of the pub task.</p>
</dd>
<dt>target_settings (dict):</dt><dd><p>Dictionary containing settings necessary for performing the operation.</p>
</dd>
<dt>target_name (str):</dt><dd><p>Name of the target.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pubtools._quay.iib_operations.task_iib_build_from_scratch">
<span class="sig-prename descclassname"><span class="pre">pubtools._quay.iib_operations.</span></span><span class="sig-name descname"><span class="pre">task_iib_build_from_scratch</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">bundles</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">archs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">index_image_tag</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">signing_keys</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hub</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">task_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">target_settings</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">target_name</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pubtools/_quay/iib_operations.html#task_iib_build_from_scratch"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pubtools._quay.iib_operations.task_iib_build_from_scratch" title="Permalink to this definition"></a></dt>
<dd><p>Perform all the necessary actions for the ‘PushIIBBuildFromScratch’ entrypoint.</p>
<dl class="simple">
<dt>Args:</dt><dd><dl class="simple">
<dt>bundles ([str]):</dt><dd><p>Bundles to add to the index image.</p>
</dd>
<dt>archs ([str]):</dt><dd><p>Architectures to build the index image for.</p>
</dd>
<dt>index_image_tag (str):</dt><dd><p>Tag to be applied to the new index image.</p>
</dd>
<dt>signing_keys (str):</dt><dd><p>Signing keys to be used.</p>
</dd>
<dt>hub (HubProxy):</dt><dd><p>Instance of XMLRPC pub-hub proxy.</p>
</dd>
<dt>task_id (str):</dt><dd><p>ID of the pub task.</p>
</dd>
<dt>target_settings (dict):</dt><dd><p>Dictionary containing settings necessary for performing the operation.</p>
</dd>
<dt>target_name (str):</dt><dd><p>Name of the target.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="pubtools._quay.iib_operations.verify_target_settings">
<span class="sig-prename descclassname"><span class="pre">pubtools._quay.iib_operations.</span></span><span class="sig-name descname"><span class="pre">verify_target_settings</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">target_settings</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pubtools/_quay/iib_operations.html#verify_target_settings"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#pubtools._quay.iib_operations.verify_target_settings" title="Permalink to this definition"></a></dt>
<dd><p>Verify the presence and validity of target settings.</p>
<dl class="simple">
<dt>Args:</dt><dd><dl class="simple">
<dt>target_settings (dict):</dt><dd><p>Dictionary containing settings necessary for performing the operation.</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

</div>
</div>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="container_image_pusher.html" class="btn btn-neutral float-left" title="Container image pusher" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="image_untagger.html" class="btn btn-neutral float-right" title="Image untagger" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2021, Red Hat.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>