<!DOCTYPE html>
<html class="writer-html5" lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ChangeLog &mdash; pubtools-quay 0.12.0 documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css" />

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/sphinx_highlight.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="Exceptions" href="exceptions.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            pubtools-quay
          </a>
              <div class="version">
                0.12.0
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
<li class="toctree-l1"><a class="reference internal" href="README.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="entrypoints_reference.html">Entrypoints reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="modules_reference.html">Modules reference</a></li>
</ul>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">ChangeLog</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#id1">0.23.0 (2024-05-29)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id2">0.22.0 (2024-05-21)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id3">0.21.0 (2024-05-17)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id4">0.20.0 (2024-05-10)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id5">0.19.0 (2024-03-18)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id6">0.18.0 (2024-03-18)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id7">0.17.0 (2024-02-27)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id8">0.16.0 (2024-02-08)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id9">0.15.0 (2023-12-07)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id10">0.14.0 (2023-10-17)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id11">0.13.0 (2023-09-27)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id12">0.12.1 (2023-09-13)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id13">0.12.0 (2023-07-25)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id14">0.11.3 (2023-07-25)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id15">0.11.2 (2023-07-10)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id16">0.11.1 (2023-05-15)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id17">0.11.0 (2023-03-14)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id18">0.10.4 (2022-10-04)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id19">0.10.3 (2022-10-04)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id20">0.10.2 (2022-08-16)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id21">0.10.1 (2022-6-17)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id22">0.10.0 (2022-6-01)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id23">0.9.3 (2022-04-01)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id24">0.9.2 (2022-03-02)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id25">0.9.1 (2022-02-02)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id26">0.9.0 (2022-28-1)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id27">0.8.3 (2021-10-6)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id28">0.8.2 (2021-10-6)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id29">0.8.1 (2021-10-5)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id30">0.8.0 (2021-9-7)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id31">0.7.2 (2021-8-23)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id32">0.7.1 (2021-8-20)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id33">0.7.0 (2021-8-18)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id34">0.6.0 (2021-7-14)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id35">0.5.0 (2021-6-2)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id36">0.4.0 (2021-5-4)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id37">0.3.0 (2021-2-11)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id38">0.2.0 (2021-2-9)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id39">0.1.0 (2021-2-9)</a></li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">pubtools-quay</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">ChangeLog</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/CHANGELOG.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <div class="section" id="changelog">
<h1>ChangeLog<a class="headerlink" href="#changelog" title="Permalink to this heading"></a></h1>
<div class="section" id="id1">
<h2>0.23.0 (2024-05-29)<a class="headerlink" href="#id1" title="Permalink to this heading"></a></h2>
<ul class="simple">
<li><p>Sort backup items by repo</p></li>
<li><p>Support untagging OCI images</p></li>
<li><p>Update log message to show the reference with bad manifest type</p></li>
</ul>
</div>
<div class="section" id="id2">
<h2>0.22.0 (2024-05-21)<a class="headerlink" href="#id2" title="Permalink to this heading"></a></h2>
<p>Raise an error when manifest claims retry limit is reached
Manifest is outdated if both old and new manifests have digests</p>
</div>
<div class="section" id="id3">
<h2>0.21.0 (2024-05-17)<a class="headerlink" href="#id3" title="Permalink to this heading"></a></h2>
<p>Fixed pushing index images to wrong namespace
Fixed removing index image signatures when there are no non fbc operators</p>
</div>
<div class="section" id="id4">
<h2>0.20.0 (2024-05-10)<a class="headerlink" href="#id4" title="Permalink to this heading"></a></h2>
<ul class="simple">
<li><p>Fix SBOM publishing for the ML merge workflow</p></li>
<li><p>Remove incompleteness_reasons field from SBOMs before publishing them</p></li>
</ul>
</div>
<div class="section" id="id5">
<h2>0.19.0 (2024-03-18)<a class="headerlink" href="#id5" title="Permalink to this heading"></a></h2>
<ul class="simple">
<li><p>Support cosign signing for container images</p></li>
</ul>
</div>
<div class="section" id="id6">
<h2>0.18.0 (2024-03-18)<a class="headerlink" href="#id6" title="Permalink to this heading"></a></h2>
<ul class="simple">
<li><p>Generate SBOM attestations for manifest lists</p></li>
</ul>
</div>
<div class="section" id="id7">
<h2>0.17.0 (2024-02-27)<a class="headerlink" href="#id7" title="Permalink to this heading"></a></h2>
<ul class="simple">
<li><p>Should not call IIB if bundle is opted in fbc and targets OCP &gt;=4.11</p></li>
</ul>
</div>
<div class="section" id="id8">
<h2>0.16.0 (2024-02-08)<a class="headerlink" href="#id8" title="Permalink to this heading"></a></h2>
<ul class="simple">
<li><p>Instrument tracing for container push</p></li>
<li><p>Add option to disable sending transparency logs to rekor</p></li>
</ul>
</div>
<div class="section" id="id9">
<h2>0.15.0 (2023-12-07)<a class="headerlink" href="#id9" title="Permalink to this heading"></a></h2>
<ul class="simple">
<li><p>End task when IIB request fails</p></li>
<li><p>Set AWS KMS credentials from target settings</p></li>
<li><p>Fix a bug where 0 IIB builds cause a push to fail</p></li>
</ul>
</div>
<div class="section" id="id10">
<h2>0.14.0 (2023-10-17)<a class="headerlink" href="#id10" title="Permalink to this heading"></a></h2>
<ul class="simple">
<li><p>Add –check-related-images option while calling iib-add-bundles</p></li>
<li><p>Remove –skip-pulp argument when calling pubtools-iib</p></li>
</ul>
</div>
<div class="section" id="id11">
<h2>0.13.0 (2023-09-27)<a class="headerlink" href="#id11" title="Permalink to this heading"></a></h2>
<ul class="simple">
<li><p>Implement workflow to push container security manifests</p></li>
<li><p>Support prerelease floating tag</p></li>
<li><p>Remove images created by cosign</p></li>
</ul>
</div>
<div class="section" id="id12">
<h2>0.12.1 (2023-09-13)<a class="headerlink" href="#id12" title="Permalink to this heading"></a></h2>
<p>Allow radas messaging address to be formatable</p>
</div>
<div class="section" id="id13">
<h2>0.12.0 (2023-07-25)<a class="headerlink" href="#id13" title="Permalink to this heading"></a></h2>
<ul class="simple">
<li><p>Support pre-release containers</p></li>
<li><p>Better error reporting for skopeo copy commands</p></li>
<li><p>Local executor for tag-docker operatoin</p></li>
</ul>
</div>
<div class="section" id="id14">
<h2>0.11.3 (2023-07-25)<a class="headerlink" href="#id14" title="Permalink to this heading"></a></h2>
<ul class="simple">
<li><p>Trigger building index images in parallel</p></li>
<li><p>Make request session object per thread</p></li>
</ul>
</div>
<div class="section" id="id15">
<h2>0.11.2 (2023-07-10)<a class="headerlink" href="#id15" title="Permalink to this heading"></a></h2>
<ul class="simple">
<li><p>Add logs for adding and removing signatures</p></li>
<li><p>Remove less signatures</p></li>
<li><p>Use hotfix tag to sign an hotfix index image</p></li>
</ul>
</div>
<div class="section" id="id16">
<h2>0.11.1 (2023-05-15)<a class="headerlink" href="#id16" title="Permalink to this heading"></a></h2>
<ul class="simple">
<li><p>Make executor configurable</p></li>
<li><p>Pin bandit version</p></li>
<li><p>Add removing outdated signatures into task_status.jsonl</p></li>
</ul>
</div>
<div class="section" id="id17">
<h2>0.11.0 (2023-03-14)<a class="headerlink" href="#id17" title="Permalink to this heading"></a></h2>
<ul class="simple">
<li><p>Fix race condition in parallel container pushes</p></li>
<li><p>Delete signatures in parallel</p></li>
<li><p>Do not execute iib operation on fbc errors</p></li>
<li><p>Better error message when operator item fails due to fbc inconsistency</p></li>
<li><p>Change FBC logic to not call IIB only when ocp_version &gt;=4.13</p></li>
<li><p>Unpin requests-mock version</p></li>
<li><p>Set request threads for uploading signatures</p></li>
<li><p>Reformatted with new tox version</p></li>
<li><p>Added support for FBC operators</p></li>
<li><p>Drop Python2 support</p></li>
<li><p>Use namespace from index image target settings</p></li>
<li><p>Make iib_deprecation_list_url optional target settings</p></li>
</ul>
</div>
<div class="section" id="id18">
<h2>0.10.4 (2022-10-04)<a class="headerlink" href="#id18" title="Permalink to this heading"></a></h2>
<ul class="simple">
<li><p>Verify bundles presence</p></li>
<li><p>Do not pass arches in IIB request</p></li>
</ul>
</div>
<div class="section" id="id19">
<h2>0.10.3 (2022-10-04)<a class="headerlink" href="#id19" title="Permalink to this heading"></a></h2>
<ul class="simple">
<li><p>Push images to quay in multi-threads</p></li>
<li><p>Added support for hotfix operators</p></li>
<li><p>Use a random filename for the password file in containers</p></li>
<li><p>Fix signatures removal</p></li>
</ul>
</div>
<div class="section" id="id20">
<h2>0.10.2 (2022-08-16)<a class="headerlink" href="#id20" title="Permalink to this heading"></a></h2>
<ul class="simple">
<li><p>Use real task ID for tag docker signing</p></li>
<li><p>Get intermediate repo from build details</p></li>
</ul>
</div>
<div class="section" id="id21">
<h2>0.10.1 (2022-6-17)<a class="headerlink" href="#id21" title="Permalink to this heading"></a></h2>
<ul class="simple">
<li><p>Remove duplicate destinations when pushing docker</p></li>
<li><p>Listen on specific sub topic on signing service</p></li>
</ul>
</div>
<div class="section" id="id22">
<h2>0.10.0 (2022-6-01)<a class="headerlink" href="#id22" title="Permalink to this heading"></a></h2>
<ul class="simple">
<li><p>Fix arch of amd64 image</p></li>
<li><p>Return empty manifest claims when there’s nothing to sign</p></li>
<li><p>Remove sorting of Push items</p></li>
<li><p>Unpin the version of python-qpid-proton</p></li>
<li><p>Remove created from claim message</p></li>
<li><p>Change condition to not require hashing</p></li>
<li><p>Push multiarch image when the current destination doesn’t have a ML</p></li>
<li><p>Poll for consistent results of whether a tag exists</p></li>
</ul>
</div>
<div class="section" id="id23">
<h2>0.9.3 (2022-04-01)<a class="headerlink" href="#id23" title="Permalink to this heading"></a></h2>
<ul class="simple">
<li><p>Fixing signing issues</p></li>
<li><p>Skip getting v2s1 digest for non-amd64 images</p></li>
<li><p>Less skopeo login to source registry</p></li>
<li><p>Tolerate get_manifest 404 in image untagger</p></li>
</ul>
</div>
<div class="section" id="id24">
<h2>0.9.2 (2022-03-02)<a class="headerlink" href="#id24" title="Permalink to this heading"></a></h2>
<ul class="simple">
<li><p>Add a timeout to all HTTP requests</p></li>
<li><p>Removed the option for entrypoints to send UMB messages</p></li>
</ul>
</div>
<div class="section" id="id25">
<h2>0.9.1 (2022-02-02)<a class="headerlink" href="#id25" title="Permalink to this heading"></a></h2>
<ul class="simple">
<li><p>Fixed creating manifests for v2ch2 single arch containers</p></li>
</ul>
</div>
<div class="section" id="id26">
<h2>0.9.0 (2022-28-1)<a class="headerlink" href="#id26" title="Permalink to this heading"></a></h2>
<ul class="simple">
<li><p>Support v2ch2 single arch containers</p></li>
<li><p>Support v2ch1 containers</p></li>
<li><p>Run rollback only when all index image builds fail</p></li>
<li><p>Add retries to image tagging as a part of pushes</p></li>
<li><p>Skip checking for repo deprecation based on value in target settings</p></li>
<li><p>Support extra source host for quay operations</p></li>
<li><p>Sign V2S1 manifests</p></li>
<li><p>Tag index image timestamps with permanent index image as a source</p></li>
</ul>
</div>
<div class="section" id="id27">
<h2>0.8.3 (2021-10-6)<a class="headerlink" href="#id27" title="Permalink to this heading"></a></h2>
<ul class="simple">
<li><p>Fix the usage of overwrite from index</p></li>
</ul>
</div>
<div class="section" id="id28">
<h2>0.8.2 (2021-10-6)<a class="headerlink" href="#id28" title="Permalink to this heading"></a></h2>
<ul class="simple">
<li><p>Make deprecation list functionality optional</p></li>
</ul>
</div>
<div class="section" id="id29">
<h2>0.8.1 (2021-10-5)<a class="headerlink" href="#id29" title="Permalink to this heading"></a></h2>
<ul class="simple">
<li><p>Disable sending UMB messages for taggign and untagging images</p></li>
</ul>
</div>
<div class="section" id="id30">
<h2>0.8.0 (2021-9-7)<a class="headerlink" href="#id30" title="Permalink to this heading"></a></h2>
<ul class="simple">
<li><p>Use SSL certificates for Pyxis authentication</p></li>
<li><p>Remove duplicate digests when getting signatures from Pyxis</p></li>
<li><p>Remove return of push_docker entrypoint</p></li>
</ul>
</div>
<div class="section" id="id31">
<h2>0.7.2 (2021-8-23)<a class="headerlink" href="#id31" title="Permalink to this heading"></a></h2>
<ul class="simple">
<li><p>Don’t raise 404 errors when deleting tags during rollback</p></li>
</ul>
</div>
<div class="section" id="id32">
<h2>0.7.1 (2021-8-20)<a class="headerlink" href="#id32" title="Permalink to this heading"></a></h2>
<ul class="simple">
<li><p>Fix installation of ‘docker’ dependency on Python 2.6</p></li>
</ul>
</div>
<div class="section" id="id33">
<h2>0.7.0 (2021-8-18)<a class="headerlink" href="#id33" title="Permalink to this heading"></a></h2>
<ul class="simple">
<li><p>Add hooks to declare events of interest</p></li>
<li><p>Create documentation</p></li>
<li><p>Add option to execute commands inside a container</p></li>
<li><p>Add pagination support for getting all tags via Docker HTTP API</p></li>
<li><p>Capture IIB operation exception</p></li>
<li><p>Get index image manifests with its own token</p></li>
<li><p>Lower python-qpid-proton version</p></li>
</ul>
</div>
<div class="section" id="id34">
<h2>0.6.0 (2021-7-14)<a class="headerlink" href="#id34" title="Permalink to this heading"></a></h2>
<ul class="simple">
<li><p>Create entrypoint for removing a Quay repo</p></li>
<li><p>Create entrypoint for clearing a Quay repo</p></li>
<li><p>Add signature removal to tag-docker operations</p></li>
<li><p>Drop unnecessary ‘external_repos’</p></li>
<li><p>Add using extra Quay tokens for OSBS organizations</p></li>
<li><p>Allow specifying multiple repos in remove-repo and clear-repo tasks</p></li>
<li><p>Skip signing when no operator claim messages are constructed</p></li>
<li><p>Add support for delimeter-less repositories</p></li>
<li><p>Change “repo” parameter of claim messages to have external representation</p></li>
<li><p>Fix loggers per pubtools conventions</p></li>
<li><p>Check username in output of skopeo –get-login</p></li>
<li><p>Remove the usage of Quay API reading repo data</p></li>
<li><p>Add signature removal for IIB operations</p></li>
<li><p>Update sigstore to be up-to-date with current implementation</p></li>
<li><p>Allow pushing to non-existent repo</p></li>
</ul>
</div>
<div class="section" id="id35">
<h2>0.5.0 (2021-6-2)<a class="headerlink" href="#id35" title="Permalink to this heading"></a></h2>
<ul class="simple">
<li><p>Fix intermediate index image</p></li>
<li><p>Implement tag docker</p></li>
<li><p>Add skip to signing if signing key is None</p></li>
<li><p>Fix pub XMLRPC call</p></li>
<li><p>Implement entrypoints for IIB methods</p></li>
</ul>
</div>
<div class="section" id="id36">
<h2>0.4.0 (2021-5-4)<a class="headerlink" href="#id36" title="Permalink to this heading"></a></h2>
<ul class="simple">
<li><p>Implement push-docker prototype</p></li>
<li><p>Change signing order to happen before pushing</p></li>
<li><p>Use intermediate index image for signing</p></li>
</ul>
</div>
<div class="section" id="id37">
<h2>0.3.0 (2021-2-11)<a class="headerlink" href="#id37" title="Permalink to this heading"></a></h2>
<ul class="simple">
<li><p>Fix the versioning constraint of pyrsistent dependency</p></li>
</ul>
</div>
<div class="section" id="id38">
<h2>0.2.0 (2021-2-9)<a class="headerlink" href="#id38" title="Permalink to this heading"></a></h2>
<ul class="simple">
<li><p>Fix the definition of requirements.txt, allowing installation on Python 2.6</p></li>
</ul>
</div>
<div class="section" id="id39">
<h2>0.1.0 (2021-2-9)<a class="headerlink" href="#id39" title="Permalink to this heading"></a></h2>
<ul class="simple">
<li><p>Initial release.</p></li>
<li><p>Added tag image entrypoint</p></li>
<li><p>Added merge manifest list entrypoint</p></li>
<li><p>Added push docker code skeleton</p></li>
</ul>
</div>
</div>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="exceptions.html" class="btn btn-neutral float-left" title="Exceptions" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2021, Red Hat.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>